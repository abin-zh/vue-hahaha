import{o as e,c as s,w as a,a as t,b as n,t as i,i as o,u as r,s as m,n as u,d as c,r as d,F as l,e as p,f as g}from"./index-ecb441ed.js";import{_ as h}from"./_plugin-vue_export-helper.1b428a4d.js";import{r as f}from"./uni-app.es.58aeac87.js";import{g as _}from"./index.9a912d11.js";const b=h({name:"bigmsg",props:{user:"",content:"",happen:""},computed:{happenTime(){const e=this.happen,s=new Date(e);return new Intl.DateTimeFormat("zh-CN",{timeZone:"Asia/Shanghai",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(s)}},data:()=>({})},[["render",function(r,m,u,c,d,l){const p=o;return e(),s(p,{class:"big-msg"},{default:a((()=>[t(p,{class:"msg-user"},{default:a((()=>[n("用户："+i(u.user),1)])),_:1}),t(p,{class:"msg-content"},{default:a((()=>[n(i(u.content),1)])),_:1}),t(p,{class:"msg-time"},{default:a((()=>[n("发生时间: "+i(l.happenTime),1)])),_:1})])),_:1})}],["__scopeId","data-v-fa9ed32e"]]);const x=h({data:()=>({msgs:[],userName:""}),mounted(){this.init()},methods:{init(){const e=r(),{id:s,userName:a}=e.userinfo;this.userName=a,this.getBigMsg(s)},getBigMsg(e){_(`api/memorabilia/${e}`).then((e=>{const{data:s,msg:a}=e;1==e.code&&e.success?(this.msgs=[],s.memorabilias.forEach((e=>{this.msgs.push(e)}))):m({title:a,duration:2e3,icon:"none"})}))},toMsg(){u({url:"/pages/index/msg"})}}},[["render",function(i,r,m,u,h,_){const x=p,N=o,j=f(g("bigmsg"),b);return e(),s(N,{class:"container"},{default:a((()=>[t(N,{class:"header"},{default:a((()=>[t(N,null,{default:a((()=>[t(x,{onClick:_.toMsg,type:"primary"},{default:a((()=>[n("添加大事件")])),_:1},8,["onClick"])])),_:1})])),_:1}),t(N,{class:"title"},{default:a((()=>[n("你创建的大事件")])),_:1}),(e(!0),c(l,null,d(h.msgs,((a,t)=>(e(),s(j,{user:h.userName,content:a.content,happen:a.happenTime},null,8,["user","content","happen"])))),256))])),_:1})}],["__scopeId","data-v-de7786d6"]]);export{x as default};
